---
import { PortableText as PortableTextInternal } from "astro-portabletext";
import type {
  PortableTextProps,
  SomePortableTextComponents,
} from "astro-portabletext/types";
import Block from "./Block.astro";
import Blockquote from "./Blockquote.astro";
import Costs from "./Costs.astro";
import Details from "./Details.astro";
import ExternalLink from "./ExternalLink.astro";
import HorizontalRule from "./HorizontalRule.astro";
import InternalLink from "./InternalLink.astro";
import PortableTextImage from "./PortableTextImage.astro";
import Strong from "./Strong.astro";
import Text from "./Text.astro";
import YouTube from "./YouTube.astro";

interface Props {
  value: PortableTextProps["value"];
}

const { value } = Astro.props;

const components: SomePortableTextComponents = {
  text: Text,
  block: Block,
  type: {
    blockquote: Blockquote,
    costs: Costs,
    details: Details,
    youtube: YouTube,
    image: PortableTextImage,
    break: HorizontalRule,
  },
  mark: {
    link: ExternalLink,
    internalLink: InternalLink,
    strong: Strong,
  },
};
---

<PortableTextInternal value={value} components={components} />
